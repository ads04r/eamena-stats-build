---
toc: false
---
# E34N31-32

```js

const grid_data = await FileAttachment("data/grids/E34N31-32.json").json();

function summarise(item)
{
	ret = []
	for(var i; i < item.length; i++)
	{
		ret.push(item.tiles);
	}
	console.log(ret)
}

function role_expand(role)
{
	if(role.constructor.name == "Array")
	{
		var ret = Array();
		for(var i = 0; i < role.length; i++)
		{
			ret.push(role[i].label);
		}
		return ret.join(', ');
	}
	return role.label;
}

const site_sel = view(Inputs.table(grid_data, {
        columns: ['Label', 'Role', 'Date', 'Tiles', 'ID'],
        header: {'Label': 'EAMENA ID', 'Date': 'Assessment Date(s)', 'Tiles': 'Assessments', 'ID': ''},
        format: {
                'ID': (x) => htl.html`<a href="https://database.eamena.org/report/${ x }">EAMENA Link</a>`,
                'Role': (x) => htl.html`${ role_expand(x) }`,
		'Tiles': (x) => htl.html`${ x.length }`,
        },
  }));

```


<div class="grid grid-cols-3">
  <div class="card">
	<p> Total sites </p>
	<h2> </h2>
  </div>
  <div class="card">
  </div>
  <div class="card">
  </div>
</div>

```js

var data = summarise(site_sel);

```
